######################
#	Maurya Ashoka Tree
######################
mauryan_collapse_current_pop_value = {
	value = 0
	region:pracya_region = {
		every_region_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					OR = {
						pop_culture = root.culture
						AND = {
							exists = country_culture
							country_culture = { is_integrated = yes }
						}
					}
				}
				add = 1
			}
		}
	}
	max = mauryan_collapse_total_pop_value
}

mauryan_collapse_total_pop_value = {
	value = mauryan_collapse_absolute_total_pop_value
	multiply = 0.80
	round = floor
}

mauryan_collapse_absolute_total_pop_value = {
	value = 0
	region:pracya_region = {
		every_region_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				add = 1
			}
		}
	}
}
##################
#	Lankan Tree 1
##################
lankan_missions_task_4_current_pop_value = {
	value = 0
	area:north_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_religion = root.religion
					pop_culture = root.culture
				}
				add = 1
			}
		}
	}
	area:south_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_religion = root.religion
					pop_culture = root.culture
				}
				add = 1
			}
		}
	}	
	max = lankan_missions_task_4_total_pop_value
}

lankan_missions_task_4_total_pop_value = {
	value = lankan_missions_task_4_absolute_total_pop_value
	multiply = 0.95
	round = floor
}

lankan_missions_task_4_absolute_total_pop_value = {
	value = 0
	area:north_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				add = 1
			}
		}
	}
	area:south_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				add = 1
			}
		}
	}	
}

lankan_missions_task_4_province_loyalty_current = {
	value = 0
	add = state_loyalty
}

lankan_missions_task_4_province_loyalty_total = {
	value = 100
}

lankan_missions_task_7_owned_pandyan_provinces_current = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				owner = root
				dominant_province_culture = pandyan
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				owner = root
				dominant_province_culture = pandyan
			}
			add = 1
		}
	}
	max = lankan_missions_task_7_owned_pandyan_provinces_total	
}

lankan_missions_task_7_owned_pandyan_provinces_total = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				dominant_province_culture = pandyan
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				dominant_province_culture = pandyan
			}
			add = 1
		}
	}	
}

lankan_missions_task_8_owned_cholan_provinces_current = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				owner = root
				dominant_province_culture = cholan
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				owner = root
				dominant_province_culture = cholan
			}
			add = 1
		}
	}
	max = lankan_missions_task_8_owned_cholan_provinces_total	
}

lankan_missions_task_8_owned_cholan_provinces_total = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				dominant_province_culture = cholan
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				dominant_province_culture = cholan
			}
			add = 1
		}
	}	
}

lankan_missions_task_9_owned_tamil_provinces_current = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				owner = root
				OR = {
					dominant_province_culture = tamil
					dominant_province_culture = pandyan
					dominant_province_culture = cholan
					dominant_province_culture = cheran
				}
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				owner = root
				OR = {
					dominant_province_culture = tamil
					dominant_province_culture = pandyan
					dominant_province_culture = cholan
					dominant_province_culture = cheran
				}
			}
			add = 1
		}
	}
	max = lankan_missions_task_9_owned_tamil_provinces_total	
}

lankan_missions_task_9_owned_tamil_provinces_total = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				OR = {
					dominant_province_culture = tamil
					dominant_province_culture = pandyan
					dominant_province_culture = cholan
					dominant_province_culture = cheran
				}
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				OR = {
					dominant_province_culture = tamil
					dominant_province_culture = pandyan
					dominant_province_culture = cholan
					dominant_province_culture = cheran
				}
			}
			add = 1
		}
	}	
}
lankan_missions_task_10_owned_cheran_provinces_current = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				owner = root
				dominant_province_culture = cheran
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				owner = root
				dominant_province_culture = cheran
			}
			add = 1
		}
	}
	max = lankan_missions_task_10_owned_cheran_provinces_total	
}
lankan_missions_task_10_owned_cheran_provinces_total = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				dominant_province_culture = cheran
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				dominant_province_culture = cheran
			}
			add = 1
		}
	}	
}
lankan_missions_task_13_trade_goods_current = {
	value = 0
	if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = grain value > 0 }
				trade_good_surplus = { target = grain value <= 1 }
			}
		}
		add = 1
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = grain value > 1 }
				trade_good_surplus = { target = grain value <= 2 }
			}
		}
		add = 2
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = grain value > 2 }
				trade_good_surplus = { target = grain value <= 3 }
			}
		}
		add = 3
	}
	else = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = grain value > 3 }
				trade_good_surplus = { target = grain value <= 4 }
			}
		}
		add = 4
	}
	if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = fish value > 0 }
				trade_good_surplus = { target = fish value <= 1 }
			}
		}
		add = 1
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = fish value > 1 }
				trade_good_surplus = { target = fish value <= 2 }
			}
		}
		add = 2
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = fish value > 2 }
				trade_good_surplus = { target = fish value <= 3 }
			}
		}
		add = 3	
	}
	else = {
		if = {
			limit = {
				capital_scope.state = {
				trade_good_surplus = { target = fish value > 3 }
				trade_good_surplus = { target = fish value <= 4 }
				}
			}
			add = 4
		}
	}	
	if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = cattle value > 0 }
				trade_good_surplus = { target = cattle value <= 1 }
			}
		}
		add = 1
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = cattle value > 1 }
				trade_good_surplus = { target = cattle value <= 2 }
			}
		}
		add = 2
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = cattle value > 2 }
				trade_good_surplus = { target = cattle value <= 3 }
			}
		}
		add = 3
	}
	else = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = cattle value > 3 }
				trade_good_surplus = { target = cattle value <= 4 }
			}
		}
		add = 4
	}
	if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = vegetables value > 0 }
				trade_good_surplus = { target = vegetables value <= 1 }
			}
		}
		add = 1
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = vegetables value > 1 }
				trade_good_surplus = { target = vegetables value <= 2 }
			}
		}
		add = 2
	}
	else_if = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = vegetables value > 2 }
				trade_good_surplus = { target = vegetables value <= 3 }
			}
		}
		add = 3
	}
	else = {
		limit = {
			capital_scope.state = {
				trade_good_surplus = { target = vegetables value > 3 }
				trade_good_surplus = { target = vegetables value <= 4 }
			}
		}
		add = 4
	}							
	max = lankan_missions_task_13_trade_goods_total
}

lankan_missions_task_13_trade_goods_total = {
	value = 8
}
##################
#	Lankan Tree 2
##################
lankan_reclamation_task_3_owned_dravidian_provinces_current = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = { 
				owner = root
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = { 
				owner = root
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}
	region:vindhyaprstha_region = {
		every_region_province = {
			limit = { 
				owner = root
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}
	region:aparanta_region = {
		every_region_province = {
			limit = { 
				owner = root
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}			
	max = lankan_reclamation_task_3_owned_dravidian_provinces_total	
}
lankan_reclamation_task_3_owned_dravidian_provinces_total = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = { 
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = { 
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}
	region:vindhyaprstha_region = {
		every_region_province = {
			limit = { 
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}
	region:aparanta_region = {
		every_region_province = {
			limit = { 
				this.culture.culture_group = culture_group:indian
			}
			add = 1
		}
	}				
}
lankan_reclamation_task_4_current_pop_value = {
	value = 0
	region:karnata_region = {
		every_region_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_religion = root.religion
					OR = {
						pop_culture = root.culture
						AND = {
							exists = country_culture
							country_culture = { is_integrated = yes }
						}
					}
				}
				add = 1
			}
		}
	}
	region:dravida_region = {
		every_region_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_religion = root.religion				
					OR = {
						pop_culture = root.culture
						AND = {
							exists = country_culture
							country_culture = { is_integrated = yes }
						}
					}
				}
				add = 1
			}
		}
	}	
	max = lankan_reclamation_task_4_total_pop_value	
}
lankan_reclamation_task_4_total_pop_value = {
	value = lankan_reclamation_task_4_absolute_total_pop_value
	multiply = 0.80
	round = floor	
}
lankan_reclamation_task_4_absolute_total_pop_value = {
	region:dravida_region = {
		every_region_province = {
			every_pops_in_province = {
				add = 1
			}
		}
	}
	region:karnata_region = {
		every_region_province = {
			every_pops_in_province = {
				add = 1
			}
		}
	}		
}
lankan_reclamation_task_5_buildings_current = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				owner = root
			}
			add = num_of_used_building_slots
		}
	}
	max = lankan_reclamation_task_5_buildings_total
}
lankan_reclamation_task_5_buildings_total = {
	value = 75
}
lankan_reclamation_task_6_ports_current = {
	value = 0
	region:dravida_region = {
		every_region_province = {
			limit = {
				owner = root
				num_of_port_building >= 1
			}
			add = 1
		}
	}
	region:karnata_region = {
		every_region_province = {
			limit = {
				owner = root
				num_of_port_building >= 1
			}
			add = 1
		}
	}	
	max = lankan_reclamation_task_6_ports_total
}
lankan_reclamation_task_6_ports_total = {
	value = 30
}
lankan_reclamation_task_9_island_pops_current = {
	value = 0
	area:north_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_religion = root.religion
					pop_culture = root.culture
				}
				add = 1
			}
		}
	}
	area:south_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_religion = root.religion
					pop_culture = root.culture
				}			
				add = 1
			}
		}
	}
	max = lankan_reclamation_task_9_island_pops_total
}
lankan_reclamation_task_9_island_pops_total = {
	value = 500
}
lankan_reclamation_task_9_metropolis_current = {
	value = 0
	area:north_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
				has_province_rank = city_metropolis
			}
			add = 1
		}
	}
	area:south_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
				has_province_rank = city_metropolis
			}
			add = 1
		}
	}
	max = lankan_reclamation_task_9_metropolis_total	
}
lankan_reclamation_task_9_metropolis_total = {
	value = 5
}
lankan_reclamation_task_10_academy_current = {
	value = 0
	area:north_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			add = num_of_academy_building
		}
	}
	area:south_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			add = num_of_academy_building
		}
	}
	max = lankan_reclamation_task_10_academy_total	
}
lankan_reclamation_task_10_academy_total = {
	value = 15
}
lankan_reclamation_task_10_nobles_current = {
	value = 0
	area:north_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_type = nobles
				}
				add = 1
			}
		}
	}
	area:south_tambapamni_area = {
		every_area_province = {
			limit = {
				owner = root
			}
			every_pops_in_province = {
				limit = {
					pop_type = nobles			
				}			
				add = 1
			}
		}
	}
	max = lankan_reclamation_task_10_nobles_total	
}
lankan_reclamation_task_10_nobles_total = {
	value = 100
}