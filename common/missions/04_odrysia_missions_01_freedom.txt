odrysia_missions_01_freedom = {
		header = mission_image_general
		icon = general_4
		repeatable = no
		chance = {}
		
		potential = {
			tag = ODR
			is_ai = no
			has_civil_war = no
			NOT = {
				has_variable = odrysia_missions_01_freedom
			}
		}
		abort = {
				is_ai = yes
		}
		on_start = {
				add_country_modifier = {
				name = odrysia_mission_pop_happiness
				duration = 1825 # 5 years
			}
		}
		on_abort = { 
			custom_tooltip = general_mission_cooldown_tt
			set_variable = { 
				name = odryssia_missions_01_freedom
				days = 7300
			}
		}
		on_completion = { 
				add_stability = 10
				add_country_modifier = {
					name = odrysia_mission_completion_reward
					duration = -1
				}
		}
		odrysia_missions_01_freedom_task_01 = { #Rekindling the Flame
			icon = "task_political"
			duration = 60
			allow = {
				political_influence >= 25
				c:ODR = {
					is_subject_of = c:TRE
				}	
				
			}

			on_start = {
				add_political_influence = -25
				trigger_event = me_odrysia_start.1 ### not done yet
			}
			on_completion = {
				trigger_event = me_odrysia_finish.1 
			}
					
		}	
		odrysia_missions_01_freedom_task_02 = { #The Macedonian in the South
			requires = { odrysia_missions_01_freedom_task_01 }
			icon = "task_political"
			
			allow = {
				c:ODR = {
					is_subject_of = c:TRE

				}
			}
			on_completion = {
				trigger_event = me_odrysia.1 ### not done yet
			}
		}
		odrysia_missions_01_freedom_task_03 = { #Sending Emissaries to Lysimachos
			icon = "task_diplomatic"
			requires = { odrysia_missions_01_freedom_task_02 }
			prevented_by = { odrysia_missions_01_freedom_task_04 }
			duration = 90
			allow = {
				root = {
					is_subject = yes
				}
			}
			on_start = {
				trigger_event = me_odrysia_start.3 ### not done yet
			}
			
			on_completion = {
				trigger_event = me_odrysia_finish.3 ### not done yet
				root.overlord = {
					add_opinion = {
						modifier = happy_thracians
						target = root
					}
				}
				every_country = {
					limit = {
						OR = {
							tag = MOE
							tag = TBL
							tag = SDI
						}	
						NOT = {
							is_subject_of = root
						}
					}
					add_opinion = {
						modifier = unhappy_thracians
						target = root
					}
				}
			}
		}
		odrysia_missions_01_freedom_task_04 = {	#Seeking out our Brothers
			icon = "task_conquest"
			requires = { odrysia_missions_01_freedom_task_02 }
			prevented_by = { odrysia_missions_01_freedom_task_03 }
			duration = 90
			allow = {
				OR = {
					c:MOE = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:TBL = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:SDI = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					
				}
			}	
			on_start = {
				trigger_event = me_odrysia_start.4 ### not done yet
			}
			on_completion = {
				trigger_event = me_odrysia_finish.4 ### not done yet
				every_country = {
					limit = {
						OR = {
							tag = MOE
							tag = TBL
							tag = SDI
						}	
						NOT = {
							is_subject_of = root
						}
					}
					add_opinion = {
						modifier = happy_thracians
						target = root
					}
					root.overlord = {
						add_opinion = {
							modifier = unhappy_thracians
							target = root
						}
					}
				}
			}
		}
		odrysia_missions_01_freedom_task_05 = {	#A Bond thorugh Marriage (done, i hope)
			icon = "task_diplomatic"
			requires = { odrysia_missions_01_freedom_task_03 }
			prevented_by = { odrysia_missions_01_freedom_task_06 }
			allow = {
				political_inlfuence >= 50
				c:TRE = {
					opinion = { target = c:ODR value >= 100 }
				}
				current_ruler = {
					is_married = no
				}
			}
			on_start = {
				trigger_event = me.odrysia_start.5 ### not done yet
			}
			
			on_completion = {
				add_political_inlfuence = -50
				trigger_event = me_odrysia.3
				root.overlord = {
					add_opinion = {
						modifier = happy_thracians
						target = root
					}
				}
				every_country = {
					limit = {
						OR = {
							tag = MOE
							tag = TBL
							tag = SDI
						}	
						NOT = {
							is_subject_of = root
						}
					}
					add_opinion = {
						modifier = unhappy_thracians
						target = root
					}
					
				}

			}
		}
		odrysia_missions_01_freedom_task_06 = { #Mustering the Men (done, i hope)
			icon = "task_conquest"
			requires = { odrysia_missions_01_freedom_task_04 }
			prevented_by = { odrysia_missions_01_freedom_task_05 }
			duration = 180
			allow = {
				ruler_popularity >= 70
				treasury >= 50
			}
			on_start = {
				trigger_event = me_odrysia_start.6 ### needs work
			}
			on_completion = {
				trigger_event = me_odrysia_finish.6 ### needs work
				add_treasury = -50
				add_country_modifier = mustering_men 
				every_country = {
					limit = {
						OR = {
							tag = MOE
							tag = TBL
							tag = SDI
						}	
						NOT = {
							is_subject_of = root
						}
					}
					add_opinion = {
						modifier = happy_thracians
						target = root
					}
					add_country_modifier = { 
						modifier = mustering_men 
					}
				
				}
				root.overlord = {
					add_opinion = {
						modifier = unhappy_thracians
						target = root
					}
				}
				

			}

		}
		odrysia_missions_01_freedom_task_07 = { #Winning over the Greeks
			icon = "task_diplomatic"
			requires = { odrysia_missions_01_freedom_task_04 }
			duration = 120

			allow = {
				treasury >= 100
				OR = {
					c:APL = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:MES = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:ODS = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:KOI = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:KTS = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:TMS = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:ISO = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
					c:ORG = {
						has_land = yes
						opinion = { target = c:ODR value >= 30 }
					}
				}
			}

			highlight = {
				scope:province = {
					OR = {
						AND = {
							has_owner = yes
							owner = c:APL
						}
						AND = {
							has_owner = yes
							owner = c:MES
						}
						AND = {
							has_owner = yes
							owner = c:ODS
						}
						AND = {
							has_owner = yes
							owner = c:KOI
						}
						AND = {
							has_owner = yes
							owner = c:KTS
						}
						AND = {
							has_owner = yes
							owner = c:TMS
						}
						AND = {
							has_owner = yes
							owner = c:ISO
						}
						AND = {
							has_owner = yes
							owner = c:ORG
						}
					}
				}
			}

			on_start = {
				trigger_event = me_odrysia.7
			}

			on_completion = {
				every_country = {
					limit = {
						OR = {
							tag = APL
							tag = MES
							tag = ODS
							tag = KOI
							tag = KTS
							tag = TMS
							tag = ISO
							tag = ORG
						}
						NOT = {
							is_subject_of = ROOT
						}
						is_subject_of = TRE
					}
					trigger_event = { id = me_odrysia.8 days = 10 }
				}
				root.overlord = {
					add_opinion = {
						modifier = unhappy_thracians
						target = root
					}
				}
			}
	
		}
		odrysia_missions_01_freedom_task_08 = { #Becoming the northern Bulwark
			icon = "task_political"
			requires = { odrysia_missions_01_freedom_task_09.b odrysia_missions_01_freedom_task_15 }
			allow = {
				current_ruler = {
					is_friend = c:TRE.current_ruler
				}
				c:TRE = { #Thrace acutally likes you
					opinion = { target = c:ODR value >= 175 }
				}
				
				c:ODR = {
					is_subject_of = c:TRE
				}
			}
			on_completion = {
				trigger_event =  me_odrysia.2 

			}
			
		}
		odrysia_missions_01_freedom_task_09 = { #The Thracian War
			icon = "task_battle"
			requires = { odrysia_missions_01_freedom_task_06 }
			prevented_by = { odrysia_missions_01_freedom_task_14 }
			allow = {
				
				}
			
			on_completion = {
				trigger_event = me_odrysia_finish.9
			}
		}
		odrysia_missions_01_freedom_task_10 = { #Subdoing the Coast
			icon = "task_conquest"
			requires = { odrysia_missions_01_freedom_task_07 }
			allow = {

			}
			on_completion = {
				trigger_event = me_odrysia_finish.10 ### needs work	
			}
		}
		odrysia_missions_01_freedom_task_11 = { #From Court to Capital
			icon = "task_calm"
			allow = {
					p:478 = { 
							num_of_used_building_slots >= 2
							trigger_if = {
									limit = { has_construction = yes }
									custom_tooltip = {
											text = province_has_no_construction_tooltip
											has_construction = no
									}
							}
					}
			}
			on_completion = {
				trigger_event = me_odrysia_finish.11 ### needs work
					add_treasury = {
					value = 0
					add = has_monthly_income
					multiply = 12
					max	= 50
				}
			
			}	
		}
		odrysia_missions_01_freedom_task_12 = { #A Divided People
			icon = "task_happiness"
			requires = { odrysia_missions_01_freedom_task_11 }
			allow = {

			}
			on_start = {
				trigger_event = me_odrysia.12 # not done yet
			}
			on_completion = {
				
			}
		}
		odrysia_missions_01_freedom_task_13	= { #The true Thracian Capital
			icon = "task_calm"
			requires = { odrysia_missions_01_freedom_task_12 }
			allow = {

			}
			on_completion = {
				trigger_event = me_odrysia_finish.13 ### not done... yet

			}
		}
		odrysia_missions_01_freedom_task_14 = { #Welcoming our Macedonian Brothers
			icon = "task_happiness"
			requires = { odrysia_missions_01_freedom_task_05 }
			prevented_by = { odrysia_missions_01_freedom_task_09 }
			duration = 365 #one year
			allow = {
				any_country_culture = {
					is_culture = macedonian
					is_integrated = yes
				}
			}
			on_start = {
				trigger_event = me_odrysia_start.14 ### neeeeds
			}
			on_completion = {
				trigger_event = me_odrysia_finish.14 #### woooork
				add_popularity = 10
				every_country = {
					limit = {
						OR = {
							tag = MOE
							tag = TBL
							tag = SDI
						}	
						NOT = {
							is_subject_of = root
						}
					}
					add_opinion = {
						modifier = unhappy_thracians
						target = root
					}
				}
					
			}
		}
		odrysia_missions_01_freedom_task_15 = { #A Kingdom for a King
			icon = "task_political"
			final = yes
			requires = { 
				odrysia_missions_01_freedom_task_09 
				odrysia_missions_01_freedom_task_14
			}
			
			
			allow = {
				ruler_popularity >= 90
				is_subject = no
			}
			on_completion = {
				trigger_event = me_odrysia_finish.15 ### needs work
				change_government = despotic_monarchy		
				switch_government_type_event_clearup_effect = yes
				if = {
					limit = {
						exists = scope:monarchy_family
						scope:monarchy_family = {
							any_family_member = {
								is_adult = yes
								trigger_if = {
									limit = {
										root = {
											gender_equality = no
										}
									}
									is_male = yes
								}
								has_any_office = no
							}
						}
					}
					custom_tooltip = grant_offices_monarchy_reform_tt
					hidden_effect = {
						if = {
							limit = {
								scope:monarchy_family = {
									any_family_member = {
										is_adult = yes
										trigger_if = {
											limit = {
												root = {
													gender_equality = no
												}
											}
											is_male = yes
										}
										has_any_office = no
										is_general = no
										is_admiral = no
										is_governor = no
										has_tech_office = no
									}
								}
								office_is_empty = office_foreign_minister
							}
							scope:monarchy_family = {
								random_family_member = {
									limit = {
										is_adult = yes
										trigger_if = {
											limit = {
												root = {
													gender_equality = no
												}
											}
											is_male = yes
										}
										has_any_office = no
										is_general = no
										is_admiral = no
										is_governor = no
										has_tech_office = no
									}
									weight = {
										modifier = {
											factor = {
												value = 1
												add = charisma
											}
										}
									}
									give_office = office_foreign_minister
								}
							}
						}
						if = {
							limit = {
								scope:monarchy_family = {
									any_family_member = {
										is_adult = yes
										trigger_if = {
											limit = {
												root = {
													gender_equality = no
												}
											}
											is_male = yes
										}
										has_any_office = no
										is_general = no
										is_admiral = no
										is_governor = no
										has_tech_office = no
									}
								}
								office_is_empty = office_marshal
							}
							scope:monarchy_family = {
								random_family_member = {
									limit = {
										is_adult = yes
										trigger_if = {
											limit = {
												root = {
													gender_equality = no
												}
											}
											is_male = yes
										}
										has_any_office = no
										is_general = no
										is_admiral = no
										is_governor = no
										has_tech_office = no
									}
									weight = {
										modifier = {
											factor = {
												value = 1
												add = martial
											}
										}
									}
									give_office = office_marshal
								}
							}
						}
						if = {
							limit = {
								scope:monarchy_family = {
									any_family_member = {
										is_adult = yes
										trigger_if = {
											limit = {
												root = {
													gender_equality = no
												}
											}
											is_male = yes
										}
										has_any_office = no
										is_general = no
										is_admiral = no
										is_governor = no
										has_tech_office = no
									}
								}
								office_is_empty = office_high_priest_monarchy
							}
							scope:monarchy_family = {
								random_family_member = {
									limit = {
										is_adult = yes
										trigger_if = {
											limit = {
												root = {
													gender_equality = no
												}
											}
											is_male = yes
										}
										has_any_office = no
										is_general = no
										is_admiral = no
										is_governor = no
										has_tech_office = no
									}
									weight = {
										modifier = {
											factor = {
												value = 1
												add = zeal
											}
										}
									}
									give_office = office_high_priest_monarchy
								}
							}
						}
					}
				}
			}
		}
}

		
		
	
