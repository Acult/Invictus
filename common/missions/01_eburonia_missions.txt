eburonian_missions_01 = {
    header = "mission_image_general"
    icon = "seleukid_2"

    repeatable = no
    chance = 1000

    potential = {
        NOT = { has_variable = mission_cooldown_var }
        is_subject = no
        has_civil_war = no
        tag = EBS
    }
    ai_chance = 0

    abort = {
        ai_mission_back_out_trigger = yes
    }
    on_start = {
        trigger_event = me_belgae.1
        start_mission_ai_effect = yes
        save_scope_as = belgae_primary_power
    }
    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = mission_cooldown_var
            days = 7300
        }
    }
    on_completion = {
        complete_mission_effect = yes
        add_2_free_province_investments = yes
        capital_scope = {
            capital_formable_small_effect = yes
        }
    }

    eburonian_missions_task_1 = { #
        icon = "task_expansion"
        duration = 45

        allow = {
            political_influence >= 20
            war = no
        }

        highlight = {
            scope:province = {
                owner = {
                    OR = {
                        THIS = c:X43
                        THIS = c:X41
                    }
                }
            }
        }

        on_completion = {
            custom_tooltip = me_belgae_ultimatum_send.tt
            trigger_event = me_belgae.2
        }
    }

    eburonian_missions_task_2 = { #
        icon = "task_expansion"
        duration = 45

        allow = {
            political_influence >= 20
            war = no
        }

        highlight = {
            scope:province = {
                owner = {
                    THIS = c:MNP
                }
            }
        }

        on_completion = {
            custom_tooltip = me_belgae_ultimatum_send.tt
            trigger_event = me_belgae.3
        }
    }

    eburonian_missions_task_3 = { #
        icon = "task_expansion"
        duration = 45

        requires = { eburonian_missions_task_1 }

        allow = {
            political_influence >= 20
            war = no
        }

        custom_tooltip = cyr_ophellas_01.5.tt

        highlight = {
            scope:province = {
                owner = {
                    OR = {
                        THIS = c:NRV
                        THIS = c:X42
                    }
                }
            }     
        }

        on_completion = {
            custom_tooltip = me_belgae_ultimatum_send.tt
            trigger_event = me_belgae.4
        }
    }

    eburonian_missions_task_4 = { #
        icon = "task_expansion"
        duration = 45

        requires = { eburonian_missions_task_1 eburonian_missions_task_2 }

        allow = {
            political_influence >= 20
            war = no
        }

        highlight = {
            scope:province = {
                owner = {
                    OR = {
                        capital_scope = {
                            is_in_area = bellovacia_area
                        }
                        THIS = c:VMD
                    }
                    NOT = {
                        THIS = c:NRV
                    }
                }
            }   
        }
        

        on_completion = {
            custom_tooltip = me_belgae_ultimatum_send.tt
            trigger_event = me_belgae.5
        }
    }

    eburonian_missions_task_5 = { #
        icon = "task_expansion"
        duration = 45

        requires = { eburonian_missions_task_2 }

        allow = {
            political_influence >= 20
            war = no
        }

        highlight = {
            scope:province = {
                owner = {
                    capital_scope = {
                        is_in_area = morinia_area  
                    }
                    NOR = {
                        THIS = c:MNP    
                    }
                }
            }   
        }

        on_completion = {
            custom_tooltip = me_belgae_ultimatum_send.tt
            trigger_event = me_belgae.6
        }
    }

    eburonian_missions_task_6 = { #
        icon = "task_expansion"
        duration = 45

        requires = { eburonian_missions_task_3 }

        allow = {
            political_influence >= 20
            war = no
        }

        on_completion = {
            current_ruler.family = {
                add_prestige = 400
                if = {
                    limit = {
                        exists = head_of_family
                    }
                    head_of_family = {
                        add_finesse = 1
                        add_popularity = 25
                    }
                }
            }
            set_capital = 3675
            p:3675 = {
                add_province_modifier = {
                    name = belgae_pride_city
                    duration = -1
                }
            }
            add_country_modifier = {
                name = belgae_pride_country
                duration = 1825
            }
            show_as_tooltip = {
                random_province = {
                    limit = {
                        is_in_region = belgica_region
                        is_port = yes
                    }
                    add_province_modifier = {
                        name = britannic_trade
                        duration = -1
                    }
                }
            }
            trigger_event = me_belgae.7
        }
    }

    eburonian_missions_task_7 = { #
        icon = "task_expansion"
        duration = 45

        requires = { eburonian_missions_task_3 eburonian_missions_task_4 eburonian_missions_task_5 }

        allow = {
            political_influence >= 20
            war = no
        }

        highlight = {
            scope:province = {
                owner = {
                    OR = {
                        capital_scope = {
                            OR = {
                                is_in_area = suaeuconia_area
                                is_in_area = veliocassia_area
                            }
                            
                        }
                    }
                    NOT = {
                        THIS = c:VMD
                    }
                }
            }
        }

        on_completion = {
            custom_tooltip = me_belgae_ultimatum_send.tt
            trigger_event = me_belgae.8
        }
    }

    eburonian_missions_task_8 = { #
        icon = "task_expansion"

        requires = { eburonian_missions_task_5 }

        allow = {
            num_of_ships >= 20
            political_influence >= 20
        }

        on_completion = {
            show_as_tooltip = {
                random_province = {
                    limit = {
                        is_in_region = belgica_region
                        is_port = yes
                    }
                    add_province_modifier = {
                        name = britannic_trade
                        duration = -1
                    }
                }
            }
            trigger_event = me_belgae.9
        }
    }

    eburonian_missions_task_9 = { #
        icon = "task_expansion"

        requires = { eburonian_missions_task_6 }

        allow = {
            political_influence >= 20
            hidden:p:3675 = {
                is_holy_site = yes
                hidden:this.state = {state_improvement_religious_trigger = yes}
            }
        }

        on_completion = {
            show_as_tooltip = {
                p:3675 = {
                    set_city_status = city
                }
            }
            trigger_event = me_belgae.10
        }
    }

    eburonian_missions_task_10 = { #
        icon = "task_expansion"

        requires = { eburonian_missions_task_6 eburonian_missions_task_7 }

        allow = {
            political_influence >= 20
        }

        on_completion = {
            current_ruler = {
				add_charisma = 2
                add_zeal = 2
                add_martial = 2
                add_popularity = 20
			}
            show_as_tooltip = {
                add_country_modifier = {
                    name = bravest_of_the_belgae
                    duration = -1
                }
            }
            trigger_event = me_belgae.11
        }
    }

    eburonian_missions_task_11 = { #
        icon = "task_expansion"

        requires = { eburonian_missions_task_7 }

        highlight = {
			scope:province = {
				province_id = 3709
			}
        }

        allow = {
            political_influence >= 20
            p:3709 = {
                num_of_latifundia_building >= 1
            }
            capital_scope.state = {
                trade_good_surplus = {
                    target = honey
                    value >= 2
                }
            }
        }

        on_completion = {
            show_as_tooltip = {
                p:3709 = {
                    add_province_modifier = {
                        name = belgae_bee_farm
                        duration = -1
                    }
                }
            }
            trigger_event = me_belgae.12
        }
    }

    eburonian_missions_task_12 = { #
        icon = "task_expansion"
        duration = 720
        requires = { eburonian_missions_task_8 }

        allow = {
            political_influence >= 50
            treasury >= 100
        }

        on_completion = {
            show_as_tooltip = {
                add_political_influence = -50
                add_treasury = -100
                p:3843 = {
                    set_city_status = city
                    add_province_modifier = {
                        name = belgae_ganuentian_pirates
                        duration = -1
                    }
                }
            }
            trigger_event = me_belgae.13
        }
    }

    eburonian_missions_task_13 = { #
        icon = "task_expansion"

        requires = { eburonian_missions_task_9 }

        highlight = {
			scope:province = {
				province_id = 3712
			}
        }

        allow = {
            political_influence >= 20
            hidden:p:3712 = {
                has_city_status = yes
                num_of_port_building >= 2
                hidden:this.state = {state_improvement_oratory_trigger = yes}
            }
        }

        on_completion = {
            show_as_tooltip = {
                p:3712 = {
                    add_province_modifier = {
                        name = belgae_harenatium
                        duration = -1
                    }
                    add_province_modifier = {
                        name = britannic_trade
                        duration = -1
                    }
                }
            }
            trigger_event = me_belgae.14
        }
    }

    eburonian_missions_task_14 = { #
        icon = "task_expansion"

        requires = { eburonian_missions_task_10 }

        highlight = {
			scope:province = {
				province_id = 3849
			}
        }

        allow = {
            political_influence >= 20
            p:3849 = {
                num_of_fortress_building >= 1
            }
        }

        on_completion = {
            show_as_tooltip = {
                declare_war_with_wargoal = {
                    war_goal = conquer_wargoal
                    province = p:3852
                    target = c:SXS
                }
            }
            trigger_event = me_belgae.15
        }
    }

    eburonian_missions_task_15 = { #
        icon = "task_expansion"

        requires = { eburonian_missions_task_10 }

        allow = {
            political_influence >= 20
        }

        on_completion = {
            show_as_tooltip = {
                add_political_influence = -20
                every_province = {
                    limit = {
                        OR = {
                            owner = c:X43
                            owner = c:X41
                        }
                    }
                    add_claim = root
                }
            }
            trigger_event = me_belgae.2
        }
    }
}