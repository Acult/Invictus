namespace = me_nabatea

me_nabatea.1 = { # Cistern Routes
    type = country_event
    title = me_nabatea_1_title
    desc = me_nabatea_1_desc
    picture = farming
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_1.a

        add_country_modifier = {
            name = cistern_routes
        }
        add_4_free_province_investments = yes
    }
}

me_nabatea.2 = { # Consolidate the Kingdom
    type = country_event
    title = me_nabatea_2_title
    desc = me_nabatea_2_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_2.a

        add_country_modifier = {
            name = found_city
        }
        area:philistia_area = {
            add_provincial_claim_effect = yes
        }
        area:sinai_area = {
            add_provincial_claim_effect = yes
        }
        area:eastern_delta_area = {
            add_provincial_claim_effect = yes
        }
        area:arabia_relicta_area = {
            add_provincial_claim_effect = yes
        }
    }
}

me_nabatea.3 = { # Open to influences
    type = country_event
    title = me_nabatea_3_title
    desc = me_nabatea_3_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_3.a
        
        add_country_modifier = {
            name = open_to_influences
        }

        p:729 = {
            while = {
                count = 2
                define_pop = {
                    type = freemen
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 2
                define_pop = {
                    type = freemen
                    culture = root.culture
                    religion = carthaginian_pantheon # canaanite
                }
            }
            while = {
                count = 2
                define_pop = {
                    type = freemen
                    culture = root.culture
                    religion = roman_pantheon # hellenic
                }
            }
            while = {
                count = 2
                define_pop = {
                    type = freemen
                    culture = root.culture
                    religion = mesopotamian_religion # chalean
                }
            }
            while = {
                count = 2
                define_pop = {
                    type = freemen
                    culture = root.culture
                    religion = hindu
                }
            }
        }
    }
}

me_nabatea.4 = { # Caravan Routes
    type = country_event
    title = me_nabatea_4_title
    desc = me_nabatea_4_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = { # change none of them
        name = me_nabatea_4.a

        add_country_modifier = {
            name = caravan_routes
        }
    }

    option = {
        name = me_nabatea_4.b

        add_country_modifier = {
            name = caravan_routes
        }

        p:699 = {
            set_trade_goods = camel
        }
    }

    option = {
        name = me_nabatea_4.c

        add_country_modifier = {
            name = caravan_routes
        }

        p:4601 = {
            set_trade_goods = camel
        }
    }
}

me_nabatea.5 = { # Working with Judea
    type = country_event
    title = me_nabatea_5_title
    desc = me_nabatea_5_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = { # 
        name = me_nabatea_5.a

    }
}

me_nabatea.6 = { # The Frankincense Arteries
    type = country_event
    title = me_nabatea_6_title
    desc = me_nabatea_6_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = { # 
        name = me_nabatea_6.a

        add_country_modifier = {
            name = frankincense_arteries
            duration = 3650
        }
        p:4615 = {
            add_permanent_province_modifier = {
                name = hidden_cisterns
            }
        }
        add_6_free_province_investments = yes
    }
}

me_nabatea.7 = { # Processional Architecture
    type = country_event
    title = me_nabatea_7_title
    desc = me_nabatea_7_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = { # 
        name = me_nabatea_7.a

        add_political_influence = 30
        # add two treasures
    }
}

me_nabatea.8 = { # Watery Caravans
    type = country_event
    title = me_nabatea_8_title
    desc = me_nabatea_8_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = { # 
        name = me_nabatea_8.a

        custom_tooltip = nabatea_mission_01_task_08_tt_2
        enable_ability = naval_raiding

        add_country_modifier = {
            name = watery_caravans
        }
        
        add_political_influence = 50
        add_innovation = 2
    }
}

me_nabatea.9 = { # The Hooves of Kurnub
    type = country_event
    title = me_nabatea_9_title
    desc = me_nabatea_9_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = { # 
        name = me_nabatea_9.a

        p:700 = {
            set_trade_goods = horses

            add_permanent_province_modifier = {
                name = hooves_of_kurnub
            }
        }
    }
}

me_nabatea.10 = { # Gazan Trade Routes
    type = country_event
    title = me_nabatea_10_title
    desc = me_nabatea_10_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_10.a

        add_country_modifier = {
            name = gazan_trade
        }

        p:659 = {
            add_permanent_province_modifier = {
                name = gem_philistia
            }
        }
    }
}

me_nabatea.11 = { # Roaming the Sinai
    type = country_event
    title = me_nabatea_11_title
    desc = me_nabatea_11_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_11.a

        add_political_influence = 50
        p:1675 = {
            if = {
                limit = {
                    has_city_status = no
                }
                set_city_status = city
            }
            add_permanent_province_modifier = {
                name = converting_sinai
            }
            while = {
                count = 3
                define_pop = {
                    type = nobles
                    culture = root.culture
                    religion = root.religion
                }
            }
        }

        area:sinai_area= {
            every_area_province = {
                add_permanent_province_modifier = {
                    name = sinai_production
                }
            }
        }
    }
}

me_nabatea.12 = { # Weakened Qedarites
    type = country_event
    title = me_nabatea_12_title
    desc = me_nabatea_12_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_12.a
        # TODO event chain

        add_country_modifier = {
            name = qedarites_domination
        }

        p:4615 = {
            while = {
                count = 2
                define_pop = {
                    type = nobles
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 4
                define_pop = {
                    type = citizen
                    culture = root.culture
                    religion = root.religion
                }
            }
        }

        p:4714 = {
            while = {
                count = 2
                define_pop = {
                    type = nobles
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 4
                define_pop = {
                    type = citizen
                    culture = root.culture
                    religion = root.religion
                }
            }
        }

        p:4716 = {
            while = {
                count = 2
                define_pop = {
                    type = nobles
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 4
                define_pop = {
                    type = citizen
                    culture = root.culture
                    religion = root.religion
                }
            }
        }
    }
}

me_nabatea.13 = { # The kings cult
    type = country_event
    title = me_nabatea_13_title
    desc = me_nabatea_13_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_13.a
        
        add_innovation = 4
        add_country_modifier = {
            name = the_kings_cult
        }
    }
}

me_nabatea.14 = { # Stronghold of the Arabians
    type = country_event
    title = me_nabatea_14_title
    desc = me_nabatea_14_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_14.a
        # spawn a shrine

        p:4721 = {
            add_permanent_province_modifier = {
                name = stronghold_of_arabians
            }
        }
        add_permanent_province_modifier = {
            name = stronghold_of_arabians
        }
    }
}

me_nabatea.15 = { # Cosmopolitan Temple Design
    type = country_event
    title = me_nabatea_15_title
    desc = me_nabatea_15_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_15.a
        # todo deify

        p:729 = {
            add_permanent_province_modifier = {
                name = cosmopolitian_design
            }
        }
    }
}

me_nabatea.16 = { # Nabatean Naval Raids
    type = country_event
    title = me_nabatea_16_title
    desc = me_nabatea_16_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_16.a
        # TODO event chain
    }
}

me_nabatea.17 = { # Markets of the Negev
    type = country_event
    title = me_nabatea_17_title
    desc = me_nabatea_17_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_17.a
    }
}

me_nabatea.18 = { # The Sinaian Slave Trade
    type = country_event
    title = me_nabatea_18_title
    desc = me_nabatea_18_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_18.a
        # TODO event chain
    }
}

me_nabatea.19 = { # Controlling the Hauran
    type = country_event
    title = me_nabatea_19_title
    desc = me_nabatea_19_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_19.a
        # TODO event chain

        add_6_free_province_investments = yes
        p:750 = {
            set_city_status = city_metropolis
            add_building_level = commerce_building
            add_building_level = commerce_building
            add_building_level = commerce_building
            add_building_level = aqueduct_building
            add_building_level = aqueduct_building
            while = {
                count = 4
                define_pop = {
                    type = nobles
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 7
                define_pop = {
                    type = citizen
                    culture = root.culture
                    religion = root.religion
                }
            }
        }
        p:734 = {
            add_building_level = commerce_building
            add_building_level = commerce_building
            add_building_level = commerce_building
            add_building_level = aqueduct_building
            add_building_level = aqueduct_building
            while = {
                count = 4
                define_pop = {
                    type = nobles
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 7
                define_pop = {
                    type = citizen
                    culture = root.culture
                    religion = root.religion
                }
            }
        }
    }
}

me_nabatea.20 = { # Dominating the Incense Road
    type = country_event
    title = me_nabatea_20_title
    desc = me_nabatea_20_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_20.a
        # TODO event chain
    }
}

me_nabatea.21 = { # Sister Capitals
    type = country_event
    title = me_nabatea_21_title
    desc = me_nabatea_21_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_21.a

        p:729 = {
            add_permanent_province_modifier = {
                name = sister_capitals
            }
        }
        p:4714 = {
            add_permanent_province_modifier = {
                name = sister_capitals
            }
        }
        p:4610 = {
            set_city_status = city
            add_building_level = port_building
            add_building_level = commerce_building
            add_building_level = commerce_building
            while = {
                count = 1
                define_pop = {
                    type = nobles
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 3
                define_pop = {
                    type = citizen
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 1
                define_pop = {
                    type = freemen
                    culture = root.culture
                    religion = root.religion
                }
            }
            while = {
                count = 1
                define_pop = {
                    type = slaves
                    culture = root.culture
                    religion = root.religion
                }
            }
        }
    }
}

me_nabatea.22 = { # The blood of kings
    type = country_event
    title = me_nabatea_22_title
    desc = me_nabatea_22_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_22.a
        current_ruler = {
            add_martial = 2
            add_finesse = 1
            add_charisma = 1
            add_zeal = 1
            add_nickname = nickname_Philopatris
            
            # TODO only pick one
            add_trait = blood_of_aretid
        }

        add_country_modifier = {
            name = blood_kings
        }
    }

    option = {
        name = me_nabatea_22.b
        current_ruler = {
            add_martial = 2
            add_finesse = 1
            add_charisma = 1
            add_zeal = 1
            add_nickname = nickname_Philopatris
            
            # TODO only pick one
            add_trait = blood_of_obodid
        }

        add_country_modifier = {
            name = blood_kings
        }
    }
}

me_nabatea.23 = { # Caravanserais
    type = country_event
    title = me_nabatea_23_title
    desc = me_nabatea_23_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_23.a
    }
}

me_nabatea.24 = { # Sailing on Blood
    type = country_event
    title = me_nabatea_24_title
    desc = me_nabatea_24_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = { 
        name = me_nabatea_24.a
        
        add_country_modifier = {
            name = sailing_blood
        }
        area:arabia_relicta_area = {
            add_provincial_claim_effect = yes
        }
        area:arabia_ad_sinus_area = {
            add_provincial_claim_effect = yes
        }
        area:arabia_maritimae_area = {
            add_provincial_claim_effect = yes
        }
        area:arabia_felix_occidentalis_area = {
            add_provincial_claim_effect = yes
        }
        area:sheba_area = {
            add_provincial_claim_effect = yes
        }
        area:qataba_area = {
            add_provincial_claim_effect = yes
        }
        area:punt_area = {
            add_provincial_claim_effect = yes
        }
        area:ona_area = {
            add_provincial_claim_effect = yes
        }
        area:ichthyophagia_area = {
            add_provincial_claim_effect = yes
        }
        area:ptolemais_area = {
            add_provincial_claim_effect = yes
        }
        area:troglodytica_area = {
            add_provincial_claim_effect = yes
        }
        area:myos_hormos_area = {
            add_provincial_claim_effect = yes
        }
    }
}

me_nabatea.25 = { # Fate of the Edomites
    type = country_event
    title = me_nabatea_25_title
    desc = me_nabatea_25_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_25.a
        # todo event chain
    }
}

me_nabatea.26 = { # From the Seas to the Nefud
    type = country_event
    title = me_nabatea_26_title
    desc = me_nabatea_26_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_26.a

        add_country_modifier = {
            name = to_the_nefud
        }

        p:4721 = {
            set_city_status = city
            add_building_level = commerce_building
            add_building_level = commerce_building
            add_building_level = commerce_building
            add_building_level = commerce_building
        }

        hidden_effect = {
            region:arabia_region = {
                every_region_province = { add_claim = ROOT }
            }
        }
    }
}

me_nabatea.27 = { # Tombs of Kings
    type = country_event
    title = me_nabatea_27_title
    desc = me_nabatea_27_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_27.a
        
        # TODO
    }
}

me_nabatea.28 = { # The Temple of Bosra
    type = country_event
    title = me_nabatea_28_title
    desc = me_nabatea_28_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_28.a
        #todo spawn shrine
        
        add_country_modifier = {
            name = temple_of_bosra
        }
    }
}

me_nabatea.29 = { # Hasmonean Rivalry
    type = country_event
    title = me_nabatea_29_title
    desc = me_nabatea_29_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_29.a
        # TODO event chain
    }
}

me_nabatea.30 = { # The First Petroleum War
    type = country_event
    title = me_nabatea_30_title
    desc = me_nabatea_30_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_30.a
        # TODO event chain
    }
}

me_nabatea.31 = { # Aramean Society
    type = country_event
    title = me_nabatea_31_title
    desc = me_nabatea_31_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_31.a

        add_political_influence = 50
    }
}

me_nabatea.32 = { # The Syrian Desert
    type = country_event
    title = me_nabatea_32_title
    desc = me_nabatea_32_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_32.a
        # TODO event chain

        show_as_tooltip = {
            p:829 = {
                add_permanent_province_modifier = {
                    name = desert_gem
                }
            }
            p:754 = {
                add_permanent_province_modifier = {
                    name = desert_gem
                }
            }
            p:750 = {
                add_permanent_province_modifier = {
                    name = desert_gem
                }
            }
        }
    }
}

me_nabatea.33 = { # Leader of the Arabs
    type = country_event
    title = me_nabatea_33_title
    desc = me_nabatea_33_desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_nabatea_33.a

        add_country_modifier = {
            name = leader_of_arabs
        }

        p:729 = {
            add_permanent_province_modifier = {
                name = city_of_arabs
            }
        }

        add_8_free_province_investments = yes
        add_political_influence = 150
    }
}