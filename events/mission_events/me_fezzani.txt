namespace = me_fezzani

me_fezzani.1 = { # the fezzani crown
    type = country_event
    title = me_fezzani_1_title
    desc = me_fezzani_1_desc
    picture = throneroom
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    option = {
        name = me_fezzani_1.a

        add_country_modifier = {
            name = king_of_fezzan
        }
        current_ruler = {
            add_popularity = 20
            add_trait = confident
        }
    }
}

me_fezzani.20 = { # garamantes form fezzan
    type = country_event
    title = me_fezzani_20_title
    desc = me_fezzani_20_desc
    picture = throneroom
    left_portrait = current_ruler
    trigger = {
        always = yes
    }

    immediate = {
        random_country_culture = {
            limit = {
                is_culture = nasamonian
            }
            save_scope_as = nasamonian_culture_scope
        }
        random_country_culture = {
            limit = {
                is_culture = macaean
            }
            save_scope_as = macaean_culture_scope
        }
        random_country_culture = {
            limit = {
                is_culture = psyllic
            }
            save_scope_as = psyllic_culture_scope
        }
        random_country_culture = {
            limit = {
                is_culture = phazani
            }
            save_scope_as = phazani_culture_scope
        }
    }

    option = {
        name = me_fezzani_20.a
        
        trigger = { # gatekeep different options on an event
            is_monarchy = yes
        }
        
        change_country_name = fezzan_kingdom
        change_country_adjective = FEZZAN_ADJ
        hidden_effect = {
            change_country_color = onyx_black
        }

        add_country_modifier = {
            name = kingdom_of_fezzan
        }

        ROOT = {
            integrate_country_culture = scope:nasamonian_culture_scope
            integrate_country_culture = scope:macaean_culture_scope
            integrate_country_culture = scope:psyllic_culture_scope
            integrate_country_culture = scope:phazani_culture_scope
        }
    }

    option = {
        name = me_fezzani_20.b
        
        trigger = {
            is_monarchy = no
        }
        change_country_name = fezzan_tribe
        change_country_adjective = FEZZAN_ADJ
        hidden_effect = {
            change_country_color = onyx_black
        }

        add_country_modifier = {
            name = tribal_fezzan
        }

        ROOT = {
            integrate_country_culture = scope:nasamonian_culture_scope
            integrate_country_culture = scope:macaean_culture_scope
            integrate_country_culture = scope:psyllic_culture_scope
            integrate_country_culture = scope:phazani_culture_scope
        }
    }
}