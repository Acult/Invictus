namespace = samaria_inv

samaria_inv.1 = { #Join the Diadochi war
	type = country_event
	title = samaria_inv.1.t
	desc = samaria_inv.1.desc
	picture = successors

	right_portrait = current_ruler
	left_portrait = c:PRY.current_ruler
	left_portrait = c:EGY.current_ruler

	trigger = {
		religion = judaism
		has_land = yes
	}

	option = { #on Ptolemaios' side
		name = samaria_inv.1.a
		c:EGY = {
			add_opinion = {
				modifier = joined_my_war
				target = root
			}
		}
		c:PRY = {
			add_opinion = {
				modifier = joined_enemy_war
				target = root
			}
		}
		custom_tooltip = samaria_inv.1.a.tt
		hidden_effect = {
			c:EGY = {
				trigger_event = {
					id = samaria_inv.4
					days = 5
				}
			}
			set_variable = {
				name = egy_jud
			}
			if = {
            	limit = {
                	root = {
                    	is_subject_of = c:PRY
                	}
            	}
				release_subject = root
        	}
		}
	}
	option = { #On Antigonos' side
		name = samaria_inv.1.b
		c:PRY = {
			add_opinion = {
				modifier = joined_my_war
				target = root
			}
		}
		c:EGY = {
			add_opinion = {
				modifier = joined_enemy_war
				target = root
			}
		}
		custom_tooltip = samaria_inv.1.b.tt
		hidden_effect = {
			c:PRY = {
				trigger_event = {
					id = samaria_inv.3
					days = 5
				}
			}
			set_variable = {
				name = pry_jud
			}
		}

	}
	option = { #remain neutral
		name = samaria_inv.1.c
		add_political_influence = 25
		c:PRY = {
			add_opinion = {
				modifier = did_not_join_war
				target = root
			}
		}
		c:EGY = {
			add_opinion = {
				modifier = joined_enemy_war
				target = root
			}
		}
		custom_tooltip = samaria_inv.1.c.tt
		hidden_effect = {
			set_variable = {
				name = no_want_war
			}
		}
	}
}

samaria_inv.2 = {
	type = country_event
	title = samaria_inv.2.t
	desc = samaria_inv.2.desc
	picture = council_country

	left_portrait = current_ruler
	right_portrait = scope:mission_country_scope.current_ruler

	trigger = {
		has_land = yes
	}

	option = { #Territory
		name = samaria_inv.2.a
		area:decapolis_area = {
			every_area_province = {
				set_owned_by = scope:mission_country_scope
			}
		}
		p:695 = { set_owned_by = scope:mission_country_scope }
		p:696 = { set_owned_by = scope:mission_country_scope }
		p:693 = { set_owned_by = scope:mission_country_scope }
		p:690 = { set_owned_by = scope:mission_country_scope }
		p:685 = { set_owned_by = scope:mission_country_scope }
		p:673 = { set_owned_by = scope:mission_country_scope }
		p:672 = { set_owned_by = scope:mission_country_scope }
		p:674 = { set_owned_by = scope:mission_country_scope }
		p:648 = { set_owned_by = scope:mission_country_scope }
		p:740 = { set_owned_by = scope:mission_country_scope }
		p:742 = { set_owned_by = scope:mission_country_scope }
		p:677 = { set_owned_by = scope:mission_country_scope }
		p:669 = { set_owned_by = scope:mission_country_scope }
		if = {
			limit = {
				p:660 = {
					owner = scope:mission_country_scope
				}
			}
			p:660 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:661 = {
					owner = scope:mission_country_scope
				}
			}
			p:661 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:662 = {
					owner = scope:mission_country_scope
				}
			}
			p:662 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:663 = {
					owner = scope:mission_country_scope
				}
			}
			p:663 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:664 = {
					owner = scope:mission_country_scope
				}
			}
			p:664 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:665 = {
					owner = scope:mission_country_scope
				}
			}
			p:665 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:666 = {
					owner = scope:mission_country_scope
				}
			}
			p:666 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:667 = {
					owner = scope:mission_country_scope
				}
			}
			p:667 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:668 = {
					owner = scope:mission_country_scope
				}
			}
			p:668 = {
				set_owned_by = root
			}
		}
		if = {
			limit = {
				p:670 = {
					owner = scope:mission_country_scope
				}
			}
			p:670 = {
				set_owned_by = root
			}
		}
	}

	option = { #Betray and give no land
		name = samaria_inv.2.b
		if = {
			limit = { alliance_with = scope:mission_country_scope }
			break_alliance = scope:mission_country_scope
		}
		add_opinion = {
			modifier = broken_promise
			target = scope:mission_country_scope
		}
		root = {
			area:decapolis_area = {
				every_area_province = {
					add_claim = scope:mission_country_scope
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

samaria_inv.3 = {
	type = country_event
	title = samaria_inv.3.t
	desc = samaria_inv.3.desc
	picture = throneroom

	left_portrait = current_ruler
	right_portrait = scope:alliance_target_1.current_ruler
	right_portrait = scope:alliance_target_2.current_ruler

	trigger = {
		has_land = yes
	}

	immediate = {
		random_country = {
			limit = {
				NOT = { this = root }
				NOT = { alliance_with = root }
				rank = major_power
				in_diplomatic_range = ROOT
				opinion = {
					target = ROOT
					value > 0
				}
			}
			save_scope_as = alliance_target_1
		}
		random_country = {
			limit = {
				NOT = { this = root}
				NOT = { alliance_with = root }
				rank = major_power
				in_diplomatic_range = ROOT
				NOT = {
					THIS = scope:alliance_target_1
				}
				opinion = {
					target = ROOT
					value > 0
				}
			}
			save_scope_as = alliance_target_2
		}
	}

	option = { #Ask country 1
		name = samaria_inv.3.a
		scope:alliance_target_1 = {
			set_variable = try_hard
			trigger_event = {
				id = samaria_inv.4
				days = { 5 10 }
			}
		}
	}

	option = { #Ask country 2
		name = samaria_inv.3.b
		scope:alliance_target_2 = {
			set_variable = try_hard
			trigger_event = {
				id = samaria_inv.4
				days = { 5 10 }
			}
		}
	}
}

samaria_inv.4 = {
	type = country_event
	title = samaria_inv.4.t
	desc = samaria_inv.4.desc
	picture = council_country

	right_portrait = scope:mission_country_scope.current_ruler
	left_portrait = scope:alliance_target_1.current_ruler
	left_portrait = scope:alliance_target_2.current_ruler

	trigger = {
		has_land = yes
	}

	option = { # Alliance
		name = samaria_inv.4.a
		scope:mission_country_scope = {
			add_alliance = root
		}
		scope:mission_country_scope = {
			trigger_event = {
				id = samaria_inv.5
				days = { 5 10 }
			}
		}
		ai_chance = {
            factor = 1
            modifier = {
                factor = 2
                opinion = {
					target = scope:mission_country_scope
					value >= 50
				}
            }
            modifier = {
                factor = 3
                opinion = {
					target = scope:mission_country_scope
					value >= 100
				}
            }
        }
	}

	option = { #No Alliance
		name = samaria_inv.4.b
		scope:mission_country_scope = {
			trigger_event = {
				id = samaria_inv.6
				days = { 5 10 }
			}
		}
		ai_chance = {
            factor = 1
            modifier = {
                factor = 1.5
                opinion = {
					target = scope:mission_country_scope
					value <= -50
				}
            }
            modifier = {
                factor = 2
                opinion = {
					target = scope:mission_country_scope
					value <= -150
				}
            }
        }
	}
}

samaria_inv.5 = { #Positive Response
	type = country_event
	title = samaria_inv.5.t
	desc = samaria_inv.5.desc
	picture = throneroom

	left_portrait = current_ruler
	right_portrait = scope:alliance_target_1.current_ruler
	right_portrait = scope:alliance_target_2.current_ruler

	trigger = {
		has_land = yes
	}

	option = {
		name = samaria_inv.5.a
	}
}

samaria_inv.6 = { #Negative Response
	type = country_event
	title = samaria_inv.6.t
	desc = samaria_inv.6.desc
	picture = throneroom

	left_portrait = current_ruler
	right_portrait = scope:alliance_target_1.current_ruler
	right_portrait = scope:alliance_target_2.current_ruler

	trigger = {
		has_land = yes
	}

	option = { #Oh well
		name = samaria_inv.6.a
	}

	option = { #try the other guy
		name = samaria_inv.6.b
		trigger = {
			NOT = { has_variable = loser }
		}
		set_variable = loser
		if = {
			limit = {
				scope:alliance_target_1 = {
					NOT = {
						has_variable = try_hard
					}
				}
			}
			scope:alliance_target_1 = {
				trigger_event = {
					id = samaria_inv.4
					days = { 5 10 }
				}
			}
		}
		if = {
			limit = {
				scope:alliance_target_2 = {
					NOT = {
						has_variable = try_hard
					}
				}
			}
			scope:alliance_target_2 = {
				trigger_event = {
					id = samaria_inv.4
					days = { 5 10 }
				}
			}
		}
	}
}

samaria_inv.7 = { #flavour task 2
	type = country_event
	title = samaria_inv.7.t
	desc = samaria_inv.7.desc
	picture = assassination

	left_portrait = current_ruler

	trigger = {
		always = yes
	}

	option = {
		name = samaria_inv.7.a
	}
}

samaria_inv.8 = { #flavour task 3
	type = country_event
	title = samaria_inv.8.t
	desc = samaria_inv.8.desc
	picture = successors

	right_portrait = current_ruler
	left_portrait = c:EGY.current_ruler
	left_portrait = c:PRY.current_ruler

	trigger = {
		always = yes
	}

	option = {
		name = samaria_inv.8.a
	}
}

samaria_inv.9 = { #flavour tasks 4 and 5
	type = country_event
	title = samaria_inv.9.t
	desc = samaria_inv.9.desc
	picture = council_country

	left_portrait = current_ruler

	trigger = {
		always = yes
	}

	option = {
		name = samaria_inv.9.a
	}
}

samaria_inv.10 = { #destroy second temple, enforce samaritanism
	#actually destroy temple
}

samaria_inv.100 = { #Finishing event for restoring the rule of judges
	type = country_event
	title = samaria_inv.100.t
	desc = samaria_inv.100.desc
	picture = council_country #to be determined

	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler

	trigger = {
		religion = judaism
	}

	option = {
		name = samaria_inv.100.a
	}
}
