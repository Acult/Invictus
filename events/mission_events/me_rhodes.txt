namespace = me_rhodes

me_rhodes.1 = {	#Egyptian Ties
    type = country_event
    title = me_rhodes_1_title
    desc = me_rhodes_1_desc
    picture = interesting_histories_greek_debate
    
    left_portrait = current_ruler
    right_portrait = char:42

    option = {      
        name = me_rhodes.1.a
        #Offer to enter an Alliance
        #Lose traditionalist support and add other support
		add_party_approval = {
			party_type = oligarchic_party
			value = 5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = -10
		}
		c:EGY = {
			trigger_event = {
				id = me_rhodes.2
				days = { 5 10 }
			}
		}
    }
    option = { 
        name = me_rhodes.1.b
        #Send gifts with the offer
        add_treasury = -50
        current_ruler = {
        	add_gold = -100
        }
    	reverse_add_opinion = {
    		target = c:EGY
    		modifier = opinion_gift
    	}
		add_party_approval = {
			party_type = oligarchic_party
			value = 5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = -10
		}
		c:EGY = {
			set_variable = {
				name = rhodes_sent_us_da_cash
				days = 180
			}
			trigger_event = {
				id = me_rhodes.2
				days = { 5 10 }
			}
		}
    }
    option = { 
        name = me_rhodes.1.c
        #Rhodes will stay neutral
        #Add traditionalist support and lose other support
        add_political_influence = 15
		add_party_approval = {
			party_type = oligarchic_party
			value = -10
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = 5
		}
    }

}
me_rhodes.2 = {
    type = country_event
    title = me_rhodes_2_title
    desc = me_rhodes_2_desc
    picture = interesting_histories_greek_debate
    
    right_portrait = c:RHO.ruler
    left_portrait = current_ruler

    immediate = {
    	if = {
    		limit = {
    			has_variable = rhodes_sent_us_da_cash
    		}
    		add_treasury = 50
    		current_ruler = {
    			add_gold = 100
    		}
    	}
    }

    option = {      
        name = me_rhodes.2.a
        #We will accept their alliance offer
        add_alliance = c:RHO
        c:RHO = { 
        	set_variable = {
        		name = egypt_accepted_alliance
        		days = 180
        	}
			trigger_event = {
				id = me_rhodes.3
				days = { 15 30 }
			}
        }
		ai_chance = {
			base = 5
			modifier = {
				factor = 10
				has_variable = rhodes_sent_us_da_cash
			}
		}
    }
    option = {      
        name = me_rhodes.2.b
        #Offer them to become a tributary (ai only)
        trigger = {
        	c:RHO = { is_ai = yes }
        	c:EGY = { is_ai = yes }
        }
		make_subject = {
			target = c:RHO
			type = tributary
		}
		ai_chance = {
			base = 5
			modifier = {
				factor = 5
				NOT = { has_variable = rhodes_sent_us_da_cash }
			}
		}
    }
    option = {      
        name = me_rhodes.2.c
        #Egypt wants nothing to do with Rhodes!
        add_political_influence = 5
        c:RHO = { 
        	set_variable = {
        		name = egypt_declined_alliance
        		days = 180
        	}
			trigger_event = {
				id = me_rhodes.3
				days = { 15 30 }
			}
        }
		ai_chance = {
			base = 5
			modifier = {
				factor = 10
				NOT = { has_variable = rhodes_sent_us_da_cash }
			}
		}
    }
}
me_rhodes.3 = {
    type = country_event
    title = me_rhodes_3_title
	desc = {
#    	desc = "rel_flavor_kemetic.9.desc"
		first_valid = {
			triggered_desc = {	##Accepted Description
				trigger = { has_variable = egypt_declined_alliance }	
				desc = "me_rhodes_3_desc_1"
			}
			triggered_desc = {	##Declined Description
				trigger = { has_variable = egypt_accepted_alliance }	
				desc = "me_rhodes_3_desc_2"
			}			
		}
	}
    picture = interesting_histories_greek_debate
    
    left_portrait = current_ruler
    right_portrait = char:42

    option = {      
        name = me_rhodes.3.a
        trigger = { has_variable = egypt_declined_alliance }
        #Oh Well
    }
    option = { 
        name = me_rhodes.3.b
        trigger = { has_variable = egypt_accepted_alliance}
        #This is Great News!
        show_as_tooltip = {
        	add_alliance = c:EGY
        }
    }
}