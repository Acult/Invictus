namespace = me_odrysia

me_odrysia.1 = { #macedonian in the south
	type= country_event
	title = me_odrysia_1_title
	desc = me_odrysia_1_desc
	picture = diadochi_seleucus_elephant
	goto_location = capital_scope
	left_portrait = current_ruler
	left_portrait = c:TRE.current_ruler
	right_portrait = c:TBL.current_ruler
	right_portrait = c:SDI.current_ruler
	right_portrait = c:MOE.current_ruler

	option = { #siding with Lysimachos
		name = me_odrysia.1.a
		overlord = {
			add_opinion = {
				modifier = happy_thracians
				target = root
			}
		}
		every_country = {
			limit = {
				OR = {
					tag = MOE
					tag = TBL
					tag = SDI
				}	
			}
			add_opinion = {
				modifier = unhappy_thracians
				target = root
			}
			
		}
	}
	option = { #siding with thracians
		name = me_odrysia.1.b
		overlord = {
			add_opinion = {
				modifier = unhappy_thracians
				target = root
			}
		}
		every_country = {
			limit = {
				OR = {
					tag = MOE
					tag = TBL
					tag = SDI
				}	
				NOT = {
					is_subject_of = root
				}
			}
			add_opinion = {
				modifier = happy_thracians
				target = root
			}
		}
	}
	
}

me_odrysia.2 = { #Event after becoming satrapy of Thrace
    type = country_event

    title = me_odrysia_2_title
    desc = me_odrysia_2_desc
    picture = great_library #find a suitable pi
    fire_only_once = yes
    goto_location = capital_scope

    left_portrait = current_ruler
    right_portrait = c:TRE.current_ruler
   

    option = { #become a satrapy
        name = me_odrysia.2.a
        overlord = {
            make_subject = {
                target = c:ODR
                type = satrapy
            }

        }
        c:ODR = {
            add_political_influence = -50
            add_stability = -10
        }
        
        c:ODR = {
            add_country_modifier = {
                name = loyal_subject
                duration = 3650 
            }
        }
        ai_chance = {
            base = 30
        }
    }
    option = { #change is bad
        name = me_odrysia.2.b
        add_stability = 10
        ai_chance = {
            base = 5
        }
        
    }
}
me_odrysia.3 = { #getting married event, shamefully stolen from Argos' tree
    type = country_event
    title = me_odrysia_3_title
    desc = me_odrysia_3_desc
    picture = greek_court
    right_portrait = scope:potential_wife
    right_portrait = scope:potential_wife_2
    right_portrait = scope:potential_wife_3
    left_portrait = current_ruler
    left_portrait = c:TRE.current_ruler


    immediate = {
    	c:TRE = {
	    	random_character = {
	    		limit = {
	    			has_same_family = c:TRE.current_ruler
	    			is_female = yes
	    			age >= 16
	    			age <= 50
	    		}
	    		save_scope_as = potential_wife
	    	}
	    	random_character = {
	    		limit = {
	    			NOT = { THIS = scope:potential_wife }
	    			has_same_family = c:TRE.current_ruler
	    			is_female = yes
	    			age >= 16
	    			age <= 50
	    			is_married = no
	    		}
	    		save_scope_as = potential_wife_2
	    	}
	    	random_character = {
	    		limit = {
	    			NOR = {
	    				THIS = scope:potential_wife
	    				THIS = scope:potential_wife_2
	    			}
	    			has_same_family = c:TRE.current_ruler
	    			is_female = yes
	    			age >= 16
	    			age <= 50
	    			is_married = no
	    		}
	    		save_scope_as = potential_wife_3
	    	}
    	}
    }

    option = {
        name = me_odrysia_3.a
        #Marry potential_wife
        trigger = { exists = scope:potential_wife }
        c:TRE = {
        	set_variable = {
        		name = wife_1
        		days = 180
        	}
	       	trigger_event = {
	       		id = me_odrysia.4
	       		days = { 5 10 }
	       	}
       	}
    }
    option = {
        name = me_odrysia_3.b
        trigger = { exists = scope:potential_wife_2 }
        c:TRE = {
        	set_variable = {
        		name = wife_2
        		days = 180
        	}
	       	trigger_event = {
	       		id = me_odrysia.4
	       		days = { 5 10 }
	       	}
       	}
        #Marry potential_wife_2
    }
    option = {
        name = me_odrysia_3.c
        trigger = { exists = scope:potential_wife_3 }
        c:TRE = {
        	set_variable = {
        		name = wife_3
        		days = 180
        	}
	       	trigger_event = {
	       		id = me_odrysia.4
	       		days = { 5 10 }
	       	}
       	}
        #Marry potential_wife_3
    }

}
me_odrysia.4 = { #event for thrace, stolen from Argos' tree
    type = country_event
    title = me_odrysia_4_title
    desc = me_odrysia_4_desc
    picture = interesting_histories_greek_lady
    right_portrait = scope:potential_wife
    right_portrait = scope:potential_wife_2
    right_portrait = scope:potential_wife_3
    left_portrait = current_ruler
    left_portrait = c:ODR.current_ruler

    immediate = {
    	hidden_effect = {
    		if = {
    			limit = {
                    c:ODR.current_ruler = {
                        is_married = yes 
                    }    
                }
	    		c:ODR.current_ruler = {
	    			divorce_character = spouse
	    		}
    		}
    	}
    }

    option = { 
        name = me_odrysia_4.a
        #Marry them
        c:ODR = {
        	set_variable = {
        		name = marriage_accepted
        		days = 365
        	}
			add_opinion = {
        		modifier = wedding_accepted
        		target = ROOT
        	}
        }
    	switch = {
    		trigger = has_variable
    		wife_1 = {
    			if = {
    				limit = {
    					scope:potential_wife = { is_married = yes }
    				}
    				scope:potential_wife = {
    					divorce_character = spouse
    				}
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife
    				}
    			}
    			else = {
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife
    				}
    			}
    			save_scope_as = married_wife
    		}
    		wife_2 = {
    			if = {
    				limit = {
    					scope:potential_wife_2 = { is_married = yes }
    				}
    				scope:potential_wife_2 = {
    					divorce_character = spouse
    				}
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_2
    				}
    			}
    			else = {
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_2
    				}
    			}
    			save_scope_as = married_wife
    		}
    		wife_3 = {
    			if = {
    				limit = {
    					scope:potential_wife_3 = { is_married = yes }
    				}
    				scope:potential_wife_3 = {
    					divorce_character = spouse
    				}
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_3
    				}
    			}
    			else = {
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_3
    				}
    			}
    			save_scope_as = married_wife
    		}
    	}
		ai_chance = {
			base = 30
		}
    }
    option = {
        name = me_odrysia_4.b
        #Don't Marry them
        c:ODR = {
        	set_variable = {
        		name = marriage_rejected
        		days = 365
        	}
        	add_opinion = {
        		modifier = wedding_denied
        		target = ROOT
        	}	
        }
		ai_chance = {
			base = 5
		}
    }
    after = {
    	c:ODR = {
	    	trigger_event = {
	    		id = me_odrysia.5
	    		days = 5
	    	}
	    }
    }
}
me_odrysia.5 = {
    type = country_event
    title = me_odrysia_5_title
	desc = {
		first_valid = {
			triggered_desc = {	##Marriage Accepted
				trigger = { has_variable = marriage_accepted }
				desc = "me_odrysia_5_desc_1"
			}
			triggered_desc = {	##Marriage Rejected
				trigger = { has_variable = marriage_rejected }
				desc = "me_odrysia_5_desc_2"
			}
		}
	}
    picture = celtic_religious_festival
    left_portrait = current_ruler
    right_portrait = scope:married_wife

    trigger = {

    }

    immediate = {

    }

    option = {
        name = me_odrysia_5.a
        trigger = { has_variable = marriage_accepted }
        custom_tooltip = me_odrysia_5_tt
		add_modifier = {
			modifier = wedding_accepted_mod
			target = ROOT
		}
    }
    option = {
        name = me_odrysia_5.b
        trigger = { has_variable = marriage_rejected }
		add_modifier = {
			modifier = wedding_denied_mod
			target = ROOT
		}
    }
}

me_odrysia.7 = { ###formerly = me_macedon_5_rhodope_2

}
me_odrysia.8 = { ### formerly = me_macedon_5_rhodope_3

}
me_odrysia.12 = { # stealing pops from Thrace

}

### boring start and finish events ###
namespace = me_odrysia_start

me_odrysia_start.3 = { #Sending Emissaries to Lysimachos
	type = country_event
	title = me_odrysia_start_3_title
	desc = me_odrysia_start_3_desc
	picture = greek_political_discussion
	fire_only_once = yes
	goto_location = overlord.capital_scope

	option = {
		name = me_odrysia_start.3.a
	}
}
me_odrysia_start.4 = { #seeking out our brothers
	type = country_event
	title = me_odrysia_start_4_title
	desc = me_odrysia_start_4_desc
	picture = celtic_village
	fire_only_once = yes
	left_portrait = current_ruler
	right_portrait = c:MOE.current_ruler
	right_portrait = c:TBL.current_ruler
	right_portrait = c:SDI.current_ruler

	option = { #we send delegations to the tribes
		name = me_odrysia_start.4.a
		every_country = {
			limit = {
				OR = {
					tag = MOE
					tag = TBL
					tag = SDI
				}	
				NOT = {
					is_subject_of = root
				}
			}
			fire_event = me_odrysia_mid.4
		}
	}
	option = { #we do not send delegations to the tribes
		name = me_odrysia_start.4.b
		current_ruler = {
			add_popularity = -50
		}
	}
}

me.odrysia_start.5 = { #a bond through marriage

}
me_odrysia_start.6 = { #mustering the men

}

me_odrysia_start.14 = { # welcoming our macedonian brothers

}

namespace = me_odrysia_mid

me_odrysia_mid.4 = { #proposals to the tribes
	type = country_event
	title = me_odrysia_mid_4_title
	desc = me_odrysia_mid_4_desc
	fire_only_once = yes
	picture = celtic_religious_festival
	left_portrait = current_ruler
	right_portrait = c:ODR.current_ruler
	
	option = { #they agree and will join the upcoming fight

	}
	option = { #they do not agree

	}
}

namespace = me_odrysia_finish

me_odrysia_finish.1 = { #Event Rekindle the flame
    type = country_event
    title = me_odrysia_finish_1_title
    desc = me_odrysia_finish_1_desc
    picture = diadochi_surrender_general 
    fire_only_once = yes
    goto_location = capital_scope
    left_portrait = current_ruler
    right_portrait = overlord.current_ruler
 
    option = {
        name = me_odrysia_finish.1.a
        add_modifier = {
        	modifier = our_fight
			duration = 3650
        }
        current_ruler = {
            add_popularity = 20
        }
    }
}
me_odrysia_finish.3 = { #Sending Emissaries to Lysimachos

}
me_odrysia_finish.4 = { #seeking out our brothers
	type = country_event
	title = me_odrysia_finish_4_title
	desc = me_odrysia_finish_4_desc
	picture = council_country
	fire_only_once = yes

	option = {
		name = me_odrysia_finish.4.a
	}
}

me_odrysia_finish.6 = { #mustering the men
	type = country_event
	title = me_odrysia_finish_6_title
	desc = me_odrysia_finish_6_desc
	picture = 
	fire_only_once = yes

}
me_odrysia_finish.9 = { ### thracian war completion event
	type = country_event
	title = me_odrysia_9_finish_title
	desc = me_odrysia_9_finish_desc
	picture = looting 
	fire_only_once = yes
	goto_location = capital_scope
	left_portrait = current_ruler
	right_portrait = overlord.current_ruler

	option = {
        name = me_odrysia_finish.9.a
      	current_ruler = {
            add_trait = aggressive
			add_popularity = 20
        }
    }
	option = {
		name = me_odrysia_finish.9.b
		current_ruler = {
			add_popularity = -20
			add_trait = cautious
		}
	}
}
me_odrysia_finish.10 = { #subdoing the coast
	type = country_event
	title = me_odrysia_finish_10_title
	desc = me_odyrsia_finish_10_desc
	picture = greek_siege
}
me_odrysia_finish.11 = { # from court to capital
    type = country_event
    title = me_odrysia_finish_11_title
    desc = me_odyrsia_finish_11_desc
    picture = city_construction
    left_portrait = current_ruler

    option = {
        name = me_odrysia_finish_11.a
        add_country_modifier = {
            name = building_spree
            duration = 1095
        }
    }
}




me_odrysia_finish.13 = { #the true thracian capital

}



me_odrysia_finish.14 = { #welcoming our macedonian brothers

}

me_odrysia_finish.15 = { #kingdom for a king
	type = country_event
    title = me_odrysia_finish_15_title
	desc = me_odyrsia_finish_15_desc
    picture = diadochi_coronation
   	left_portrait = current_ruler

   	option = {
        name = me_odrysia_finish_15.a
        current_ruler = {
			add_trait = victorious
		}
        
    }
}

