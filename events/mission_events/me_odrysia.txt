namespace = me_odrysia

me_odrysia_finish.1 = { ##deciding if you want to fight thrace or join them
	type = country_event
	title = me_odrysia_finish_1_title
	desc = me_odrysia_finish_1_desc
	picture = great_library
	hidden = no
	fire_only_once = yes
	
	left_portrait = current_ruler
	right_portrait = 

	option = {
		name = me_odrysia_finish.1.a
		desc = me_odrysia_finish.1.a_desc
		c:ODR = add_political_influence = 50
	}
}

me_odrysia.2 = { #Event after becoming satrapy of Thrace
    type = country_event

    title = me_odrysia_2_title
    desc = me_odrysia_2_desc
    picture = great_library #find a suitable pic
    hidden = no
    fire_only_once = yes
    goto_location = capital_scope

    left_portrait = current_ruler
    right_portrait = c:TRE.current_ruler
   

    option = { #become a satrapy
        name = me_odrysia.2.a
        overlord = {
            make_subject = {
                target = c:ODR
                type = satrapy
            }

        }
        c:ODR = {
            add_political_influence = -50
            add_stability = -10
        }
        
        c:ODR = {
            add_country_modifier = {
                name = loyal_subject
                duration = 3650 
            }
        }
        ai_chance = {
            base = 30
        }
    }
    option = { #change is bad
        name = me_odrysia.2.b
        add_stability = 10
        ai_chance = {
            base = 5
        }
        
    }
}
me_odrysia.3 = { #getting married event, shamefully stolen from Argos' tree
    type = country_event
    title = me_odrysia_3_title
    desc = me_odrysia_3_desc
    picture = interesting_histories_greek_lady
    right_portrait = scope:potential_wife
    right_portrait = scope:potential_wife_2
    right_portrait = scope:potential_wife_3
    left_portrait = current_ruler
    left_portrait = c:TRE.current_ruler


    immediate = {
    	c:TRE = {
	    	random_character = {
	    		limit = {
	    			has_same_family = c:TRE.current_ruler
	    			is_female = yes
	    			age >= 16
	    			age <= 50
	    		}
	    		save_scope_as = potential_wife
	    	}
	    	random_character = {
	    		limit = {
	    			NOT = { THIS = scope:potential_wife }
	    			has_same_family = c:TRE.current_ruler
	    			is_female = yes
	    			age >= 16
	    			age <= 50
	    			is_married = no
	    		}
	    		save_scope_as = potential_wife_2
	    	}
	    	random_character = {
	    		limit = {
	    			NOR = {
	    				THIS = scope:potential_wife
	    				THIS = scope:potential_wife_2
	    			}
	    			has_same_family = c:TRE.current_ruler
	    			is_female = yes
	    			age >= 16
	    			age <= 50
	    			is_married = no
	    		}
	    		save_scope_as = potential_wife_3
	    	}
    	}
    }

    option = {
        name = me_odrysia_3.a
        #Marry potential_wife
        trigger = { exists = scope:potential_wife }
        c:TRE = {
        	set_variable = {
        		name = wife_1
        		days = 180
        	}
	       	trigger_event = {
	       		id = me_odrysia.4
	       		days = { 5 10 }
	       	}
       	}
    }
    option = {
        name = me_odrysia_3.b
        trigger = { exists = scope:potential_wife_2 }
        c:TRE = {
        	set_variable = {
        		name = wife_2
        		days = 180
        	}
	       	trigger_event = {
	       		id = me_odrysia.4
	       		days = { 5 10 }
	       	}
       	}
        #Marry potential_wife_2
    }
    option = {
        name = me_odrysia_3.c
        trigger = { exists = scope:potential_wife_3 }
        c:TRE = {
        	set_variable = {
        		name = wife_3
        		days = 180
        	}
	       	trigger_event = {
	       		id = me_odrysia.4
	       		days = { 5 10 }
	       	}
       	}
        #Marry potential_wife_3
    }

}
me_odrysia.4 = { #event for thrace, stolen from Argos' tree
    type = country_event
    title = me_odrysia_4_title
    desc = me_odrysia_4_desc
    picture = interesting_histories_greek_lady
    right_portrait = scope:potential_wife
    right_portrait = scope:potential_wife_2
    right_portrait = scope:potential_wife_3
    left_portrait = current_ruler
    left_portrait = c:ODR.current_ruler

    immediate = {
    	hidden_effect = {
    		if = {
    			limit = {
                    c:ODR.current_ruler = {
                        is_married = yes 
                    }    
                }
	    		c:ODR.current_ruler = {
	    			divorce_character = spouse
	    		}
    		}
    	}
    }

    option = { 
        name = me_odrysia_4.a
        #Marry them
        c:ODR = {
        	set_variable = {
        		name = marriage_accepted
        		days = 365
        	}
			add_opinion = {
        		modifier = wedding_accepted
        		target = ROOT
        	}
        }
    	switch = {
    		trigger = has_variable
    		wife_1 = {
    			if = {
    				limit = {
    					scope:potential_wife = { is_married = yes }
    				}
    				scope:potential_wife = {
    					divorce_character = spouse
    				}
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife
    				}
    			}
    			else = {
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife
    				}
    			}
    			save_scope_as = married_wife
    		}
    		wife_2 = {
    			if = {
    				limit = {
    					scope:potential_wife_2 = { is_married = yes }
    				}
    				scope:potential_wife_2 = {
    					divorce_character = spouse
    				}
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_2
    				}
    			}
    			else = {
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_2
    				}
    			}
    			save_scope_as = married_wife
    		}
    		wife_3 = {
    			if = {
    				limit = {
    					scope:potential_wife_3 = { is_married = yes }
    				}
    				scope:potential_wife_3 = {
    					divorce_character = spouse
    				}
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_3
    				}
    			}
    			else = {
    				c:ODR.current_ruler = {
    					marry_character = scope:potential_wife_3
    				}
    			}
    			save_scope_as = married_wife
    		}
    	}
		ai_chance = {
			base = 30
		}
    }
    option = {
        name = me_odrysia_4.b
        #Don't Marry them
        c:ODR = {
        	set_variable = {
        		name = marriage_rejected
        		days = 365
        	}
        	add_opinion = {
        		modifier = wedding_denied
        		target = ROOT
        	}	
        }
		ai_chance = {
			base = 5
		}
    }
    after = {
    	c:ODR = {
	    	trigger_event = {
	    		id = me_odrysia.5
	    		days = 5
	    	}
	    }
    }
}
me_odrysia.5 = {
    type = country_event
    title = me_odrysia_5_title
	desc = {
		first_valid = {
			triggered_desc = {	##Marriage Accepted
				trigger = { has_variable = marriage_accepted }
				desc = "me_odrysia_5_desc_1"
			}
			triggered_desc = {	##Marriage Rejected
				trigger = { has_variable = marriage_rejected }
				desc = "me_odrysia_5_desc_2"
			}
		}
	}
    picture = interesting_histories_greek_lady
    left_portrait = current_ruler
    right_portrait = scope:married_wife

    trigger = {

    }

    immediate = {

    }

    option = {
        name = me_odrysia_5.a
        trigger = { has_variable = marriage_accepted }
        custom_tooltip = me_odrysia_5_tt
		add_modifier = {
			modifier = wedding_accepted_mod
			target = ROOT
		}
    }
    option = {
        name = me_odrysia_5.b
        trigger = { has_variable = marriage_rejected }
		add_modifier = {
			modifier = wedding_denied_mod
			target = ROOT
		}
    }
}

me_odrysia.7 = { ###formerly = me_macedon_5_rhodope_2

}
me_odrysia.8 = { ### formerly = me_macedon_5_rhodope_3

}
me_odrysia.12 = { # stealing pops from Thrace

}

### boring start and finish events ###

me_odrysia_finish.1 = { #Event Rekindle the flame
    type = country_event
    title = me_odrysia_1_finish_title
    desc = me_odrysia_1_finish_desc
    picture = great_library #find picture yielding seuthes!
    hidden = no
    fire_only_once = yes
    goto_location = capital_scope
    left_portrait = current_ruler
    right_portrait = overlord.current_ruler
    trigger = {
        always = yes
    }
    option = {
        name = me_odrysia_finish.1.a
        add_modifier = {
        	modifier = our_fight
			duration = 3650
        }
        current_ruler = {
            add_popularity = 20
            add_trait = aggressive
        }
    }
}

me_odrysia_start.3 = {

}

me_odrysia_finish.3 = {

}
me_odrysia_start.4 = {

}

me_odrysia_finish.4 = {

}
me.odrysia_start.5 = {

}

me_odrysia_start.6 = { 

}
me_odrysia_finish.6 = {

}
me_odrysia_finish.9 = { ### thracian war completion event

}
me_odrysia_finish.10 = {

}
me_odrysia_finish.11 = {
    type = country_event
    title = me_odrysia_finish_11_title
    desc = me_thebes_finish_11_desc
    picture = interesting_histories_hellenic_city_rebuild
    left_portrait = current_ruler

    option = {
        name = me_odrysia_finish_11.a
        add_country_modifier = {
            name = building_spree
            duration = 1095
        }
    }
}




me_odrysia_finish.13 = {

}


me_odrysia_start.14 = {

}
me_odrysia_finish.14 = {

}

me_odrysia_finish.15 = {

}